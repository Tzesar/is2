{% extends 'base.html' %}
{% load staticfiles %}

    {% block title %}Modificar Proyecto{% endblock %}
    {% block errorBlock %}
        {% if form.errors %}
            <div class="container-fluid">
                <div class="alert alert-danger alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    Los datos ingresados son erróneos.
                </div>
            </div>
        {% endif %}
    {% endblock errorBlock %}
    {% block panelCentral %}{% block padTop %}{% endblock padTop %}
        <div class="panel-heading">
            <h1 class="text-info" style="display: inline-block">Información sobre el proyecto: {{ project.nombre|capfirst }}</h1>
        </div>
        <div class="panel-body">
            <div class="col-lg-4 col-md-4 col-sm-4">
                <form role="form" method="post">
                    {% csrf_token %}
                        <div class="form-group">
                            <label for="id_nombre">Nombre</label>
                            <input value="{{ project.nombre }}" name="nombre" id="id_nombre" class="form-control"
                                   type="text" placeholder="Nombre del proyecto">
                        </div>
                        <div class="form-group">
                            <label for="id_lider_proyecto">Lider de Proyecto</label>
                            <select id="id_lider_proyecto" class="form-control">
                                <option value>----------</option>
                                {% for usuario in users %}
                                    <option value="{{ usuario.pk }}" {% if form.lider_proyecto.value == usuario.id %}
                                            selected="selected" {% endif %}>{{ usuario.username }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="id_estado">Estado</label>
                            <select id="id_estado" class="form-control">
                                {% for choice in form.estado.field.widget.choices %}
                                    <option value="{{ choice.0 }}" {% if choice.0 == usuario.estado %}
                                            selected="selected" {% endif %}>{{ choice.1 }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="id_descripcion">Descripcion</label>
                            <textarea value="{{ project.descripcion }}" name="descripcion" id="id_descripcion"
                                      class="form-control" placeholder="Breve descripción del proyecto" rows="5">
                                      </textarea>
                        </div>
                        <a href='/projectlist/' class="btn btn-lg btn-warning btn-lg" role="button">Atrás</a>
                        <button class="btn btn-lg btn-success btn-lg" type="submit">Guardar cambios</button>
                </form>
            </div>
            <div class="col-lg-offset-2 col-md-offset-2 col-sm-offset-2 col-lg-5 col-md-5 col-sm-5 visible-lg visible-md visible-sm">
                <a href='/phaselist/' class="btn btn-lg btn-info btn-lg disabled" role="button">Lista Fases</a>
                <a href='{% url 'administrarFases.views.createPhase' project.id %}'
                   class='btn btn-lg btn-info btn-lg disabled' role="button">Añadir Fases</a>
            </div>
        </div>
    {% endblock panelCentral %}>